The distinctive smell of onions is primarily due to the presence of sulfur-containing compounds. When an onion is cut or crushed, the cells are damaged, releasing enzymes that break down these compounds into smaller, volatile molecules. These molecules, especially syn-propanethial-S-oxide, are responsible for the pungent aroma and the irritation they cause to the eyes and nose. This process is a natural defense mechanism of the onion to deter predators.