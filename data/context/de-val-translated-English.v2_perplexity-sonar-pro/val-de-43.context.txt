The 2004 Khobar hostage-taking and attack was carried out by al-Qaeda operatives. Specifically:

The attack was conducted by a cell of four al-Qaeda militants calling themselves "The Jerusalem Squadron" or "Jerusalem Brigade" of the "Mujahedin of the Arabian Peninsula"[1][3]. This was a local Saudi Arabia-based faction of al-Qaeda.

Key details about the perpetrators include:

1. The leader of the cell was identified as Turki bin Fahd al-Moteiri, also known as Fawwaz al-Nashami[1][3].

2. The other three members of the cell were named as Nemer al-Baqmi, Hussain, and Nader[3].

3. Abdulaziz al-Muqrin, believed to be one of al-Qaeda's leaders in Saudi Arabia, released an audio tape taking responsibility for the attack[1][6].

4. The attackers targeted what they called "Zionists and Crusaders" who they claimed were in Saudi Arabia to "steal our oil and resources"[1].

The attack took place on May 29, 2004, and lasted approximately 25 hours. The militants attacked oil industry installations and a foreign workers' housing complex in Al-Khobar, Saudi Arabia[1]. They killed 22 people and injured 25, mainly foreign workers from various countries[1][3].

During the attack, the terrorists moved freely through the compound, ate breakfast in the restaurant, slept in the hotel, and even gave a phone interview to al-Jazeera television[3]. They eventually escaped before Saudi security forces could apprehend them, leading to criticism of the Saudi response to the crisis[3].

This attack was significant for al-Qaeda, providing a morale boost and demonstrating their ability to strike at Western interests in Saudi Arabia[3]. The group used this attack to boast about their strength and the righteousness of their cause on jihadi forums[3].